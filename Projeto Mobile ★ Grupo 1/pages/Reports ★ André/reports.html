<!-- Reports ‚òÖ Andr√©--->

<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reporte</title>
  <link rel="stylesheet" href="reports.css" />
</head>
<body>
  <div class="container">
    <header>
      <button class="back-button">‚Üê</button>
      <h1>Reporte</h1>
    </header>

    <p class="descricao">
      Aqui voc√™ pode relatar<br />
      problemas no app ou sugest√µes.
    </p>

    <div class="botoes-reporte">
      <button class="botao-opcao">
        Funcionalidade<br /><span>Erro de opera√ß√£o em uma fun√ß√£o.</span>
      </button>
      <button class="botao-opcao">
        Desempenho<br /><span
          >Problemas relacionados ao design e √† intera√ß√£o do usu√°rio.</span
        >
      </button>
      <button class="botao-opcao">
        Interface<br /><span
          >Falhas que afetam a velocidade e a efici√™ncia do aplicativo.</span
        >
      </button>
      <button class="botao-opcao">
        Seguran√ßa<br /><span
          >Vulnerabilidade na integridade de informa√ß√µes pessoais.</span
        >
      </button>
    </div>

    <div class="outros-box">
      <label for="outros">Outros:</label>
      <input type="text" id="outros" placeholder="" />
    </div>

    <button class="botao-enviar" onclick="enviarRelatorio()">Enviar</button>
  </div>

  <!-- üéµ M√∫sica de fundo em autoplay mudo e loop -->
  <audio id="musica" autoplay loop muted>
    <source src="jojo_theme_piano.mp3" type="audio/mpeg" />
    Seu navegador n√£o suporta √°udio.
  </audio>

  <!-- Bot√£o para ativar m√∫sica -->
  <button
    id="playMusicButton"
    style="
      display: none;
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      padding: 10px 20px;
      font-weight: bold;
      background: #fff;
      color: #000;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      z-index: 1000;
    "
  >
    ‚ñ∂Ô∏è Ativar M√∫sica
  </button>

  <script>
    let selectedReportType = null;

    const botoes = document.querySelectorAll(".botao-opcao");

    botoes.forEach((botao) => {
      botao.addEventListener("click", () => {
        botoes.forEach((b) => b.classList.remove("selected"));
        botao.classList.add("selected");

        const titulo = botao.innerHTML.split("<br>")[0].trim();
        selectedReportType = titulo;
      });
    });

    function enviarRelatorio() {
      const outrosTexto = document.getElementById("outros").value.trim();

      if (!selectedReportType && outrosTexto === "") {
        alert("Por favor, selecione um tipo de problema ou preencha o campo 'outros'.");
        return;
      }

      const dados = {
        tipo: selectedReportType || "Outros",
        descricao: outrosTexto || "Sem descri√ß√£o adicional.",
      };

      console.log("Relat√≥rio enviado:", dados);
      alert("Relat√≥rio enviado com sucesso!");

      botoes.forEach((b) => b.classList.remove("selected"));
      document.getElementById("outros").value = "";
      selectedReportType = null;
    }

    window.addEventListener("DOMContentLoaded", () => {
      const musica = document.getElementById("musica");
      const botaoMusica = document.getElementById("playMusicButton");

      if (musica) {
        musica.volume = 0.3;

        const playPromise = musica.play();
        if (playPromise !== undefined) {
          playPromise.catch(() => {
            // autoplay bloqueado, mostra o bot√£o
            botaoMusica.style.display = "block";
          });
        }
      }

      botaoMusica.addEventListener("click", () => {
        musica.muted = false; // desativa mudo
        musica.volume = 0.3;
        musica.play();
        botaoMusica.style.display = "none";
      });
    });

    document.querySelector(".back-button").addEventListener("click", () => {
      window.history.back();
    });
  </script>
</body>
</html>